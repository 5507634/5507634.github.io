webpackJsonp([12],{bYS8:function(t,a,i){"use strict";function e(t){i("xwZD")}Object.defineProperty(a,"__esModule",{value:!0});var n=i("NYxO"),l=i("shbT"),s=i.n(l),c=i("FWz8"),r={computed:Object(n.b)(["order"]),data:function(){return{img_nav:s.a,loading:!0,total:0,pageSize:10,page:1,pages:1,page_items:{},bill:{id:0,prepaid:0,rates:0,items:null}}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.loading=!0;Object(c.b)(1).then(function(a){var i=a.data;t.total=void 0===i.items?0:i.items.length,t.pages=parseInt((t.total+t.pageSize-1)/t.pageSize),t.bill.id=i.id,t.bill.prepaid=i.prepaid,t.bill.rates=i.rates,t.bill.items=i.items,t.showPage(1),t.loading=!1})},showPage:function(t){if(null!=this.bill.items){this.page=t;var a=(this.page-1)*this.pageSize,i=a+this.pageSize>=this.bill.items.length?this.bill.items.length:a+this.pageSize;this.page_items=this.bill.items.slice(a,i)}},handlePageChanged:function(t){this.showPage(t)},handleSubmit:function(){var t=this;this.loading=!0,this.$store.dispatch("PrintBill",this.bill).then(function(){t.loading=!1,t.$router.push({name:"checkout/print"})}).catch(function(){t.loading=!1})}}},p=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"container"},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("img",{attrs:{src:t.img_nav,alt:"nav"}})]),t._v(" "),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("span",[t._v("请核对消费明细")])]),t._v(" "),i("el-row",{staticClass:"main2",attrs:{type:"flex",justify:"center"}},[i("div",{staticClass:"bill"},[i("div",{staticClass:"title"},[i("div",{staticClass:"float_left c1"},[t._v("预付：¥"),i("span",{staticClass:"title_price"},[t._v(t._s(t.bill.prepaid))])]),t._v(" "),i("div",{staticClass:"float_left c2"},[t._v("消费：¥"),i("span",{staticClass:"title_price"},[t._v(t._s(t.bill.rates))])]),t._v(" "),i("div",{staticClass:"float_left c3"},[t._v("余额：¥"),i("span",{staticClass:"title_price"},[t._v(t._s(t.bill.prepaid-t.bill.rates))])])]),t._v(" "),i("div",{staticClass:"detail"},t._l(t.page_items,function(a,e){return e<10?i("div",{key:a.id,staticClass:"row"},[i("div",{staticClass:"float_left c1 name"},[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"float_left c2 date"},[t._v(t._s(a.date))]),t._v(" "),i("div",{staticClass:"float_left c3 price"},[t._v("¥"+t._s(a.price))])]):t._e()}))])]),t._v(" "),i("el-row",{staticClass:"no_margin",attrs:{type:"flex",justify:"center"}},[i("el-button",{staticClass:"btn_pagination",attrs:{type:"primary",disabled:t.page<=1},on:{click:function(a){t.handlePageChanged(t.page-1)}}},[t._v("<")]),t._v(" "),i("el-button",{staticClass:"btn_pagination",attrs:{type:"primary",disabled:t.page>=t.pages},on:{click:function(a){t.handlePageChanged(t.page+1)}}},[t._v(">")])],1),t._v(" "),i("el-row",{staticClass:"no_margin",attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:8}},[i("router-link",{attrs:{to:{name:"checkout"}}},[i("el-button",{staticClass:"btn_large",attrs:{type:"primary"}},[t._v("返回")])],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-button",{staticClass:"btn_large",attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(a){return a.preventDefault(),t.handleSubmit(a)}}},[t._v("退房结账")])],1)],1)],1)},d=[],o=i("XyMi"),g=e,f=Object(o.a)(r,p,d,!1,g,"data-v-5d5acf42",null);a.default=f.exports},bgnR:function(t,a,i){var e=i("kxFB");a=t.exports=i("FZ+f")(!1),a.push([t.i,"\n.bill[data-v-5d5acf42] {\n  background-image: url("+e(i("moV+"))+");\n  text-align: left;\n  width: 800px;\n  height: 100%;\n}\n.bill .title[data-v-5d5acf42] {\n  margin: 16px 20px 0 20px;\n  font-size: 24px;\n  text-align: center;\n}\n.bill .c1[data-v-5d5acf42] {\n  width: 43%;\n}\n.bill .c2[data-v-5d5acf42] {\n  width: 34%;\n  text-align: center;\n}\n.bill .c3[data-v-5d5acf42] {\n  width: 20%;\n  margin-right: 3%;\n  text-align: right;\n}\n.bill .detail[data-v-5d5acf42] {\n  margin: 80px 30px 0 30px;\n  font-size: 24px;\n  height: 410px;\n}\n.bill .row[data-v-5d5acf42] {\n  height: 40px;\n}\n.name[data-v-5d5acf42] {\n  text-align: right;\n}\n.date[data-v-5d5acf42] {\n}\n.price[data-v-5d5acf42] {\n}\n.title_price[data-v-5d5acf42] {\n  color: yellow;\n  font-size: 32px;\n}\n.btn_pagination[data-v-5d5acf42] {\n  padding: 0;\n  margin: 20px 10px 0 10px;\n  width: 60px;\n  height: 60px;\n}\n",""])},"moV+":function(t,a,i){t.exports=i.p+"static/img/bill_bg.3ba2ba7.png"},shbT:function(t,a,i){t.exports=i.p+"static/img/nav_checkout_bill.9681875.png"},xwZD:function(t,a,i){var e=i("bgnR");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("rjj0").default;n("4950c3bd",e,!0,{})}});