webpackJsonp([27],{"4oN8":function(e,t){},"6f/g":function(e,t,n){"use strict";function o(e){n("maYj"),n("o25w")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("6k2e"),a=n("BoPo"),c={components:{Navbar:i.default,AppMain:a.default}},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout",style:{backgroundImage:"url("+n("fCue")+")"}},[o("navbar"),e._v(" "),o("app-main")],1)},u=[],d=n("XyMi"),s=o,m=Object(d.a)(c,r,u,!1,s,"data-v-70aafe74",null);t.default=m.exports},"6k2e":function(e,t,n){"use strict";function o(e){n("4oN8")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("NYxO"),a={computed:Object(i.b)(["license"]),methods:{handleClick:function(){this.$router.push({name:"license"})}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"logo_title float_right"},[e._v(e._s(e.license.title))]),e._v(" "),n("div",{staticClass:"logo float_right",on:{dblclick:e.handleClick}},[n("img",{attrs:{src:e.license.logo}})])])},r=[],u=n("XyMi"),d=o,s=Object(u.a)(a,c,r,!1,d,"data-v-4ac4def2",null);t.default=s.exports},A66B:function(e,t,n){e.exports=function(e){return function(){return n("Opzk")("./"+e+".vue")}}},AI7w:function(e,t){},BoPo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"app-main",computed:{}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},a=[],c=n("XyMi"),r=Object(c.a)(o,i,a,!1,null,null,null);t.default=r.exports},FWz8:function(e,t,n){"use strict";function o(e){return Object(d.a)({url:"/order",method:"get",params:{pwd:e}})}function i(e){return Object(d.a)({url:"/order",method:"get",params:{key:e}})}function a(e){return Object(d.a)({url:"/bill/"+e,method:"get"})}function c(e,t){return Object(d.a)({url:"/order/review",method:"post",data:{id:e,review:t}})}function r(e,t){return Object(d.a)({url:"/order/extend",method:"post",data:{room:e,days:t}})}function u(e){return Object(d.a)({url:"/payment/alipay/qr_code",method:"get",data:{order_id:e}})}t.d=o,t.c=i,t.b=a,t.f=c,t.a=r,t.e=u;var d=n("vLgD")},IcnI:function(e,t,n){"use strict";function o(){return Object(d.a)({url:"/license",method:"get"})}function i(e){return Object(d.a)({url:"/user/login",method:"post",data:{password:e}})}function a(e){return Object(d.a)({url:"/user/info",method:"get",params:{token:e}})}function c(){return Object(d.a)({url:"/user/logout",method:"post"})}var r=n("7+uW"),u=n("NYxO"),d=(n("y9m4"),n("EuXz"),n("vLgD")),s={state:{id:"",name:"",logo:"",title:"",date1:"",date2:"",desc:"",available:!1},mutations:{SET_LICENSE:function(e,t){e.id=t.id,e.name=t.name,e.logo=t.logo,e.title=t.title,e.date1=t.date1,e.date2=t.date2,e.desc=t.desc,e.available=!0}},actions:{GetLicense:function(e){var t=e.commit;return new Promise(function(e,n){o().then(function(n){t("SET_LICENSE",n.data),e(n)}).catch(function(e){n(e)})})}}},m=s,l=n("TIfe"),p={state:{token:Object(l.a)(),name:"",avatar:"",roles:[]},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t}},actions:{Login:function(e,t){var n=e.commit;return new Promise(function(e,o){i(t).then(function(t){var o=t.data;Object(l.c)(o.token),n("SET_TOKEN",o.token),e()}).catch(function(e){o(e)})})},GetInfo:function(e){var t=e.commit,n=e.state;return new Promise(function(e,o){a(n.token).then(function(n){var o=n.data;t("SET_ROLES",o.roles),t("SET_NAME",o.name),t("SET_AVATAR",o.avatar),e(n)}).catch(function(e){o(e)})})},LogOut:function(e){var t=e.commit,n=e.state;return new Promise(function(e,o){c(n.token).then(function(){t("SET_TOKEN",""),t("SET_ROLES",[]),Object(l.b)(),e()}).catch(function(e){o(e)})})},FedLogOut:function(e){var t=e.commit;return new Promise(function(e){t("SET_TOKEN",""),Object(l.b)(),e()})}}},f=p,h=n("FWz8"),v={state:{id:0,name:"",phone:"",room:"",type:0,type_name:"",days:0,date1:"",date2:"",rates_origin:0,rates:0,rates_member:0,deposit:0,extend_days:0,extend_date2:"",extend_rates_origin:0,extend_rates:0,extend_rates_member:0,extend_deposit:0,review:{service:5,health:5,traffic:5}},mutations:{SET_ORDER:function(e,t){e.id=t.id,e.name=t.name,e.phone=t.phone,e.room=t.room,e.room_type=t.room_type,e.days=t.days,e.date1=t.date1,e.date2=t.date2,e.rates=t.rates,e.deposit=t.deposit,e.review.service=5,e.review.health=5,e.review.traffic=5},SET_ORDER_DATES:function(e,t){e.days=t.days,e.date1=t.date1,e.date2=t.date2},SET_ORDER_ROOM_TYPE:function(e,t){e.type=t.id,e.type_name=t.name},SET_ORDER_ROOM:function(e,t){e.room=t.room,e.rates_origin=t.rates_origin,e.rates=t.rates,e.rates_member=t.rates_member,e.deposit=t.deposit},SET_ORDER_REVIEW:function(e,t){e.review.service=t.service,e.review.health=t.health,e.review.traffic=t.traffic},SET_EXTEND_ORDER:function(e,t){e.extend_days=t.days,e.extend_date2=t.date2,e.extend_rates=t.rates,e.extend_deposit=t.deposit}},actions:{GetOrderByPassword:function(e,t){var n=e.commit;return new Promise(function(e,o){Object(h.d)(t).then(function(t){var o=t.data;n("SET_ORDER",o),e(t)}).catch(function(e){o(e)})})},GetOrderByKeycard:function(e,t){var n=e.commit;return new Promise(function(e,o){Object(h.c)(t).then(function(t){var o=t.data;n("SET_ORDER",o),e(t)}).catch(function(e){o(e)})})},SubmitOrderReview:function(e,t){e.commit;return new Promise(function(e,n){Object(h.f)(t.id,t.review).then(function(t){e(t)}).catch(function(e){n(e)})})},ExtendOrder:function(e,t,n){var o=e.commit;return new Promise(function(e,i){Object(h.a)(t,n).then(function(t){var n=t.data;o("SET_EXTEND_ORDER",n),e(t)}).catch(function(e){i(e)})})}}},b=v,y={state:{origin:"",id:"",title:"",money:""},mutations:{SET_PAYMENT:function(e,t){e.origin=t.origin,e.id=t.id,e.title=t.title,e.money=t.money}}},_=y,x=n("Z60a"),O=n.n(x),g=n("C9uT"),E=n.n(g),k=function(){function e(t){O()(this,e),this.device=t}return E()(e,[{key:"initialize",value:function(){return Object(d.a)({url:"/device/"+this.device+"/initialize",method:"post"})}},{key:"diagnose",value:function(){return Object(d.a)({url:"/device/"+this.device+"/diagnose",method:"post"})}},{key:"open",value:function(){return Object(d.a)({url:"/device/"+this.device+"/open",method:"post"})}},{key:"close",value:function(){return Object(d.a)({url:"/device/"+this.device+"/close",method:"post"})}},{key:"light",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(d.a)({url:"/device/"+this.device+"/light",method:"post",data:{warning:e}})}},{key:"beep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(d.a)({url:"/device/"+this.device+"/beep",method:"post",data:{warning:e}})}},{key:"read",value:function(){return Object(d.a)({url:"/device/"+this.device+"/read",method:"get"})}},{key:"write",value:function(e){return Object(d.a)({url:"/device/"+this.device+"/write",method:"post",data:{data:e}})}},{key:"print",value:function(e){return Object(d.a)({url:"/device/"+this.device+"/print",method:"post",data:{data:e}})}},{key:"erase",value:function(){return Object(d.a)({url:"/device/"+this.device+"/erase",method:"post"})}},{key:"eject",value:function(){return Object(d.a)({url:"/device/"+this.device+"/eject",method:"post"})}},{key:"status",value:function(){return Object(d.a)({url:"/device/"+this.device+"/status",method:"get"})}}]),e}(),w=k,T=new w("printer"),j=T,S={state:{id:""},mutations:{SET_STATE:function(e,t){e.id=t.id}},actions:{PrintBill:function(e,t){e.commit;return new Promise(function(e,t){j.print().then(function(t){e(t)}).catch(function(e){t(e)})})}}},R=S,P=new w("keycard"),A=P,z={state:{id:"",desc:""},mutations:{SET_KEYCARD_ID:function(e,t){e.id=t}},actions:{KeycardOpen:function(e){e.commit;return new Promise(function(e,t){A.open().then(function(t){e(t)}).catch(function(e){t(e)})})},KeycardClose:function(e){e.commit;return new Promise(function(e,t){A.close().then(function(t){e(t)}).catch(function(e){t(e)})})},KeycardRead:function(e){var t=e.commit;return new Promise(function(e,n){A.read().then(function(n){var o=n.data;t("SET_KEYCARD_ID",o.id),e(n)}).catch(function(e){n(e)})})}}},D=z,M={token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},roles:function(e){return e.user.roles}},B=M;r.default.use(u.a);var I=new u.a.Store({modules:{license:m,user:f,order:b,payment:_,printer:R,keycard:D},getters:B});t.a=I},NHnr:function(e,t,n){"use strict";function o(e){n("AI7w")}function i(e){n("qbih")}function a(){new c.default({el:"#app",router:T,store:j.a,template:"<App/>",components:{App:x}})}Object.defineProperty(t,"__esModule",{value:!0});var c=n("7+uW"),r=(n("uMhA"),n("zL8q")),u=n.n(r),d=(n("tvR6"),{name:"ImageButton",props:{btnText:{type:String,default:""},btnType:{type:String,default:""},btnSize:{type:String,default:""},btnOutline:{type:String,default:""},btnActive:{},btnBlock:{}},computed:{computedType:function(){return this.btnType?"btn-".concat(this.btnType):""},computedSize:function(){return this.btnSize?"btn-".concat(this.btnSize):""},computedOutline:function(){return this.btnOutline?"btn-outline-".concat(this.btnOutline):""},computedActive:function(){return"true"===this.btnActive?"active":""},computedBlock:function(){return"true"===this.btnBlock?"btn-block":""}}}),s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"btn",class:[e.computedType,e.computedSize,e.computedOutline,e.computedActive,e.computedBlock],attrs:{type:"button"}},[e._v(e._s(e.btnText))])},m=[],l=n("XyMi"),p=o,f=Object(l.a)(d,s,m,!1,p,"data-v-422a3cbc",null),h=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},b=[],y=i,_=Object(l.a)(null,v,b,!1,y,null,null),x=_.exports,O=n("/ocq"),g=n("6f/g"),E=n("A66B");c.default.use(O.a);var k=[{path:"",component:g.default,redirect:"/home",children:[{name:"home",path:"home",component:E("home/index"),meta:{title:"秒宿"}}]},{path:"",component:g.default,children:[{name:"license",path:"license",component:E("license/index"),meta:{title:"产品许可"}}]},{path:"",component:g.default,children:[{name:"reserved",path:"reserved",component:E("reserved/index"),meta:{title:"是否预定"}}]},{path:"extension",component:g.default,children:[{name:"extension",path:"",component:E("extension/index"),meta:{title:"主页"}}]},{path:"extension",component:g.default,children:[{name:"extension/extend",path:"extend",component:E("extension/extend/index"),meta:{title:"主页"}}]},{path:"extension",component:g.default,children:[{name:"extension/order",path:"order",component:E("extension/order/index"),meta:{title:"主页"}}]},{path:"authorize",component:g.default,children:[{name:"password",path:"password",component:E("authorize/password/index"),meta:{title:"验证自助密码"}}]},{path:"authorize",component:g.default,children:[{name:"id_card",path:"id_card",component:E("authorize/id_card/index"),meta:{title:"身份证识别"}}]},{path:"choose",component:g.default,children:[{name:"choose/date",path:"date",component:E("choose/date/index"),meta:{title:"日期选择"}}]},{path:"choose",component:g.default,children:[{name:"choose/type",path:"type",component:E("choose/type/index"),meta:{title:"房型选择"}}]},{path:"choose",component:g.default,children:[{name:"choose/room",path:"room",component:E("choose/room/index"),meta:{title:"房间选择"}}]},{path:"choose",component:g.default,children:[{name:"choose/confirm",path:"confirm",component:E("choose/confirm/index"),meta:{title:"确认信息"}}]},{path:"order",component:g.default,children:[{name:"order",path:"",component:E("order/index"),meta:{title:"确认预祝订单"}}]},{path:"order",component:g.default,children:[{name:"number_of_people",path:"number_of_people",component:E("order/number_of_people/index"),meta:{title:"选择入住人数"}}]},{path:"payment",component:g.default,children:[{name:"payment",path:"",component:E("payment/index"),meta:{title:"支付方式"}}]},{path:"payment",component:g.default,children:[{name:"payment/alipay",path:"alipay",component:E("payment/alipay/index"),meta:{title:"支付宝支付"}}]},{path:"payment",component:g.default,children:[{name:"payment/weixin",path:"weixin",component:E("payment/weixin/index"),meta:{title:"微信支付"}}]},{path:"payment",component:g.default,children:[{name:"payment/member",path:"member",component:E("payment/member/index"),meta:{title:"会员支付"}}]},{path:"checkout",component:g.default,children:[{name:"checkout",path:"",component:E("checkout/index"),meta:{title:"结账退房"}}]},{path:"checkout",component:g.default,children:[{name:"checkout/bill",path:"bill",component:E("checkout/bill/index"),meta:{title:"核对账单"}}]},{path:"checkout",component:g.default,children:[{name:"checkout/print",path:"print",component:E("checkout/print/index"),meta:{title:"打印账单"}}]},{path:"checkout",component:g.default,children:[{name:"checkout/review",path:"review",component:E("checkout/review/index"),meta:{title:"订单评价"}}]},{name:"about",path:"/about",component:E("about/index"),meta:{title:"关于"}},{path:"/404",component:E("error/404"),hidden:!0},{path:"/401",component:E("error/401"),hidden:!0},{path:"*",redirect:"/home",hidden:!0}],w=new O.a({scrollBehavior:function(){return{y:0}},routes:k});w.beforeEach(function(e,t,n){e.meta.title&&(document.title=e.meta.title),n()});var T=w,j=n("IcnI");c.default.component("img-button",h),c.default.use(u.a,{size:"medium"}),c.default.config.productionTip=!1,function(){j.a.dispatch("GetLicense").then(function(){a()}).catch(function(){})}()},Opzk:function(e,t,n){function o(e){var t=i[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./about/index.vue":["oF1k",25],"./authorize/id_card/index.vue":["AneB",17],"./authorize/password/index.vue":["agUp",8],"./checkout/bill/index.vue":["bYS8",12],"./checkout/index.vue":["lbOj",10],"./checkout/print/index.vue":["WMzh",14],"./checkout/review/index.vue":["j66L",5],"./choose/confirm/index.vue":["dSDd",6],"./choose/date/index.vue":["ep6T",1],"./choose/room/index.vue":["pk45",15],"./choose/type/index.vue":["4kAt",2],"./error/401.vue":["3RDD",20],"./error/404.vue":["34W9",11],"./extension/extend/index.vue":["mxQT",0,7],"./extension/index.vue":["pyRw",18],"./extension/order/index.vue":["S+gu",22],"./home/index.vue":["KR8f",3],"./layout/components/AppMain.vue":["BoPo"],"./layout/components/Navbar.vue":["6k2e"],"./layout/index.vue":["6f/g"],"./license/index.vue":["QBBP",0,21],"./order/index.vue":["e+iX",13],"./order/number_of_people/index.vue":["8KM+",23],"./payment/alipay/index.vue":["Dts9",0,9],"./payment/index.vue":["gL5j",0,4],"./payment/member/index.vue":["Hy5y",16],"./payment/weixin/index.vue":["I9iG",19],"./reserved/index.vue":["uP/b",24]};o.keys=function(){return Object.keys(i)},o.id="Opzk",e.exports=o},TIfe:function(e,t,n){"use strict";function o(){return r.a.get(u)}function i(e){return r.a.set(u,e)}function a(){return r.a.remove(u)}t.a=o,t.c=i,t.b=a;var c=n("lbHh"),r=n.n(c),u="tk"},fCue:function(e,t,n){e.exports=n.p+"static/img/default.68ccc7b.png"},maYj:function(e,t){},o25w:function(e,t){},qbih:function(e,t){},tvR6:function(e,t){},uMhA:function(e,t){},vLgD:function(e,t,n){"use strict";var o=n("y9m4"),i=(n.n(o),n("mtWM")),a=n.n(i),c=n("zL8q"),r=(n.n(c),n("IcnI")),u=n("TIfe"),d=a.a.create({baseURL:"https://easy-mock.com/mock/5adb61992702da385189a559/miaosu",timeout:15e3});d.interceptors.request.use(function(e){return r.a.getters.token&&(e.headers["X-Token"]=Object(u.a)()),e},function(e){console.log(e),Promise.reject(e)}),d.interceptors.response.use(function(e){var t=e.data;return 2e4!==t.code?(Object(c.Message)({message:t.message,type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||c.MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){r.a.dispatch("FedLogOut").then(function(){location.reload()})}),Promise.reject("error")):e.data},function(e){return console.log("err"+e),Object(c.Message)({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}),t.a=d}},["NHnr"]);